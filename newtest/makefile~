M1 = ../SenselLib/m1
WIN64 = ../SenselLib/win64

M1OBJ = $(M1)/sensel.o \
	$(M1)/sensel_comm_mutex.o \
	$(M1)/sensel_decompress.o \
	$(M1)/sensel_register.o \
	$(M1)/sensel_serial_linux.o \
	$(M1)/sensel_watchdog_linux.o

morphtestm1 : morphtest.c $(M1OBJ)
	gcc morphtest.c $(M1OBJ) -o morphtestm1

WINX64LIB = ../SenselLib/winx64/LibSensel.lib

winx64test.exe : morphtest.c 
	gcc -I ../SenselLib/include morphtest.c $(WINX64LIB) -o winx64test

m1test :
	make clean
	make morphtestm1
	./morphtestm1

winx64test :
	$(MAKE) clean
	$(MAKE) winx64test.exe
	./winx64test.exe

clean : 
	rm -f morphtest.o morphtest
